# C++ placement new
placement new是operator new的一种重载形式，其作用是可以在指定的内存地址创建对象。

placement new返回值必须是void*。第一个参数必须是size_t， 第二个参数是void*。
```C++
   void* operator new (std::size_t size, void* ptr) throw();
```

### 注意
+ placement new和operator new并没有本质区别。它们都是operator new操作符的重载，只是参数不相同。
+ placement并不分配内存，只是返回指向已经分配好的某段内存的一个指针。因此不能删除它，但需要调用对象的析构函数。
+ 如果你想在已经分配的内存中创建一个对象，使用new时行不通的。
+ 也就是说placement new允许你在一个已经分配好的内存中（栈或者堆中）构造一个新的对象。原型中void* p实际上就是指向一个已经分配好的内存缓冲区的的首地址。

### placement new 重载
- [005.OpenJDK/002.OpenJDK8u312-GA/OpenJDK8U312-GA/hotspot/src/share/vm/memory/allocation.hpp](../005.OpenJDK/002.OpenJDK8u312-GA/OpenJDK8U312-GA/hotspot/src/share/vm/memory/allocation.hpp)