# synchronized 关键字解析
&nbsp;&nbsp;synchronized为JDK提供的同步机制，由JVM实现。内部具体是使用monitorenter、monitorexit 这两条JVM指令来实现的。通过学习，需要了解:
1. 基本原理
2. 偏向锁
3. 轻量级锁
4. 重量级锁的概念
5. 偏向锁->轻量级锁->重量级锁升级机制
6. 批量重偏向
7. java.lang.Object#wait() && java.lang.Object#notify 内部原理
8. ....

## 解析开始
### 示例代码以及对应的字节码
```java
    // 源代码
    public class SynchronizedStu {
        public static void stuSynchronized() {
            synchronized (SynchronizedStu.class) {
                System.out.println("Hello World");
            }
        }
    }

    // 字节码
    public static void stuSynchronized();
    descriptor: ()V
    flags: ACC_PUBLIC, ACC_STATIC
    Code:
      stack=2, locals=2, args_size=0
         0: ldc           #3                  // class link/bosswang/wei/SynchronizedStu  将该常量加载操作数栈。
         2: dup          // 复制栈顶一个元素，并将复制的值重新压入栈中
         3: astore_0     // 将一个数值从操作数栈存储到局部变量表。
         4: monitorenter  // 进入同步代码块
         5: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;
         8: ldc           #5                  // String Hello World
        10: invokevirtual #6                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
        13: aload_0
        14: monitorexit   //  退出同步代码块
        15: goto          23
        18: astore_1
        19: aload_0
        20: monitorexit
        21: aload_1
        22: athrow
        23: return
      Exception table:
         from    to  target type
             5    15    18   any
            18    21    18   any
      LineNumberTable:
        line 9: 0
        line 10: 5
        line 11: 13
        line 12: 23
      StackMapTable: number_of_entries = 2
        frame_type = 255 /* full_frame */
          offset_delta = 18
          locals = [ class java/lang/Object ]
          stack = [ class java/lang/Throwable ]
        frame_type = 250 /* chop */
          offset_delta = 4
    }
```

&nbsp;&nbsp; synchronized 关键字是由JVM里面的monitorenter以及monitorexit字节码指令实现的，那么就通过这两个字节码指令来分析synchronized关键字的实现原理.
