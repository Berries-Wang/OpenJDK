# G1停顿预测模型
&nbsp;&nbsp;G1是响应时间优先的GC算法，用户可以设定整个GC过程的期望停顿时间，由参数MaxGCPauseMills控制，默认值是200ms。不过他不是硬性条件，只是期望值，G1会努力在这个目标停顿时间内完成垃圾收集动作。但他不能保证，也有可能完不成(如设置了太小的停顿时间，新生代太大等)
- 即期望停顿时间在 MaxGCPauseMills内

&nbsp;&nbsp;G1通过停顿预测模型统计计算出来的历史数据来预测本次收集需要选择的堆分区数量(即选择哪些内存空间)，从而尽量满足用户设定的目标停顿时间。G1的预测逻辑是基于衰减平均值和衰减标准差的。
- 根据预测模型来确定需要回收的Heap Region的数量
- 尽量满足用户期望的停顿时间，而不是说停顿时间一定在用户指定的范围内

## 源码分析
1. 005.OpenJDK/002.OpenJDK8u312-GA/OpenJDK8U312-GA/hotspot/src/share/vm/utilities/numberSeq.hpp
2. 005.OpenJDK/002.OpenJDK8u312-GA/OpenJDK8U312-GA/hotspot/src/share/vm/utilities/numberSeq.cpp
3. 005.OpenJDK/002.OpenJDK8u312-GA/OpenJDK8U312-GA/hotspot/src/share/vm/gc_implementation/g1/g1CollectorPolicy.hpp
   - 方法: get_new_prediction