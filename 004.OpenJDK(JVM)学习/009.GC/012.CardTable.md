# Card Marking
&nbsp;&nbsp;在默认的情况下是直接赋值的，但是在高并发的情况下会导致性能问题。因此，在OpenJDK7添加了JVM参数 "-XX:+UseCondCardMark:" 来避免并发写入CardTable
### Default Card Marking
```c
   CARD_TABLE [this address >> 9] = 0;
   // The associated write to memory for card marking can sometimes
   // cause performance issues for highly concurrent code.
```

### Conditional Card Marking
&nbsp;&nbsp;主要是优化伪共享问题
```c
   // 指定了 -XX:+UseCondCardMark: 参数
   if (CARD_TABLE [this address >> 9] != 0){
     CARD_TABLE [this address >> 9] = 0; 
   } 
```

### G1 GC
&nbsp;&nbsp;先占个位置，后续学习到G1时再补充

## 伪共享问题

---
## 参考资料
1. [http://psy-lob-saw.blogspot.com/2014/10/the-jvm-write-barrier-card-marking.html](http://psy-lob-saw.blogspot.com/2014/10/the-jvm-write-barrier-card-marking.html)